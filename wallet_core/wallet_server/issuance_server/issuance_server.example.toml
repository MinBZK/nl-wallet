# The wallet must be able to reach the server at this URL
public_url = 'http://localhost:3001/'

issuer_trust_anchors = ["MII..."] # CAs for issuer certificates
reader_trust_anchors = ["MII..."] # CAs for RP certificates

# Files containing SD-JWT Type Metadata documents
metadata = ["com_example_pid_metadata.json", "com_example_address_metadata.json"]

[storage]
url = 'postgres://postgres:postgres@localhost:5432/pid_issuer' # or 'memory://'

[wallet_server]
ip = '127.0.0.1'
port = 3001

# Optional, for securing private keys
[hsm]
library_path = "/path/to/hsm.so"
user_pin = "12345678"
max_sessions = 3
max_session_lifetime_in_sec = 900

# `disclosure_based_issuance` is a freely choosable identifier that has to be present in the QR/UL
# that starts the session.
[disclosure_settings.disclosure_based_issuance]
# URL of a server that will receive the disclosed attributes and has to respond with a JSON array of `IssuableDocument`s
attestation_url = "http://localhost:3010"
private_key_type = "hsm"
private_key = "disclosure_based_issuance_key" # label for the private key in the HSM
certificate = "MIJ..."

# Attributes that have to be disclosed for `disclosure_based_issuance`.
[[disclosure_settings.disclosure_based_issuance.to_disclose]]
docType = "com.example.pid"
nameSpaces = { "com.example.pid" = { bsn = true } }

[attestation_settings."com.example.address"]
valid_days = 365
copy_count = 4
private_key_type = "software"
private_key = "MIG..."        # DER-encoded private key
certificate = "MIJ..."
