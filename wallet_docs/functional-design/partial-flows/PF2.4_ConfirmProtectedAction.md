# Partial Flow 2.4 Confirm a protected action

## Overview

| Aspect                       | Description                                                                                                                                                                                                                                                                                                                                                                                             |
| ---------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Summary**                  | The user confirms a protected action by entering their PIN. If they fail too many times, they are locked out of the app.                                                                                                                                                                                                                                                                                |
| **Goal**                     | Confirming a protected action.                                                                                                                                                                                                                                                                                                                                                                          |
| **Preconditions**            | *None*                                                                                                                                                                                                                                                                                                                                                                                                  |
| **Postconditions**           | Depends on the use case.                                                                                                                                                                                                                                                                                                                                                                                |
| **Used by**                  | <ul><li>[UC2.2 Change biometric unlock](../use-cases/UC2.2_ChangeBiometricUnlock.md)</li><li>[UC2.6 Change PIN](../use-cases/UC2.6_ChangeRemotePIN.md)</li><li>[UC3.1 Obtain PID](../use-cases/UC3.1_ObtainPidFromProvider.md)</li><li>[UC4.1 Obtain cards](../use-cases/UC4.1_ObtainCardsFromEAAIssuer.md)</li><li>[UC5.1 Share data with RP](../use-cases/UC5.1_ShareDataWithRP.md)</li><li>[UC5.2 Login to RP application](../use-cases/UC5.2_LoginToApplicationOfRP.md)</li></ul> |
| **Parameters**               | Cancelable                                                                                                                                                                                                                                                                                                                                                                                              |
| **Possible Results**         | <ul><li>Confirm</li><li>Cancel</li><li>Back</li></ul>                                                                                                                                                                                                                                                                                                                                                   |
| **Additional Documentation** | *None*                                                                                                                                                                                                                                                                                                                                                                                                  |
| **Possible errors**          | <ul><li>No internet</li><li>Server unreachable</li></li>                                                                                                                                                                                                                                                                                                                                                |
| **Logical test cases**       | <ul><li>[LTC51 User selects forgot PIN](../logical-test-cases.md#ltc51)</li></ul>                                                                                                                                                                                                                                                                                                                       |

---

## Flow

| #       | Description                                                                                                                     | Next                                                      |
| ------- | ------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------- |
| **1**   | **PRIMARY SCENARIO**                                                                                                            |                                                           |
| **1.1** | **System displays PIN screen**<ul><li>Input: 6 digits (0-9) PIN field</li><li>Actions: Back, Cancel, Forgot Pin, Help</li></ul> |                                                           |
| 1.1a    | User enters PIN                                                                                                                 | 1.2                                                       |
| 1.1b    | User selects Forgot PIN                                                                                                         | 2                                                         |
| 1.1c    | User selects Back                                                                                                               | Result: Back                                              |
| 1.1d    | User selects Cancel (when Cancelable)                                                                                           | Result: Cancel                                            |
| 1.1e    | User selects Help                                                                                                               | Go to: [UC9.6 Get help](../use-cases/UC9.6_GetHelp.md)                 |
| **1.2** | **System executes partial flow [PF2.8 Validate PIN](PF2.8_ValidatePin.md)**                                                   |                                                           |
| 1.2a    | Result: Valid PIN                                                                                                               | 1.3                                                       |
| 1.2b    | Result: Retry                                                                                                                   | 1.1                                                       |
| 1.2c    | Result: Back                                                                                                                    | Back                                                      |
| **1.3** | **System executes partial flow [PF1.4 Apply update policy](PF1.4_ApplyAppUpdatePolicy.md)**                                   |                                                           |
| 1.3a    | Result: App version is allowed                                                                                                  | Result: Confirm                                           |
| **2**   | **RECOVER FROM FORGOTTEN PIN**                                                                                                  |                                                           |
| **2.1** | **System displays forgot PIN screen**<ul><li>Forgot PIN?</li><li>Actions: Delete Wallet, Back</li></ul>                         |                                                           |
| 2.1a    | User selects Delete Wallet                                                                                                      | Go to: [UC9.4 Wipe all app data](../use-cases/UC9.4_WipeAllAppData.md) |
| 2.1b    | User selects Back                                                                                                               | Back                                                      |