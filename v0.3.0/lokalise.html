

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lokalise &mdash; NL Wallet 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=675a712c" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=2709fde1"></script>
      <script src="_static/doctools.js?v=9a2dae69"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="How to update Rust (or anything really) for NL Wallet" href="chores/update-rust.html" />
    <link rel="prev" title="Wallet creation" href="diagrams/wallet_creation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #383EDE" >

          
          
          <a href="index.html" class="icon icon-home">
            NL Wallet
              <img src="_static/wallet.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="relying-party.html">Relying Party</a><ul>
<li class="toctree-l2"><a class="reference internal" href="relying-party.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="relying-party.html#step-by-step">Step-by-step</a></li>
<li class="toctree-l2"><a class="reference internal" href="relying-party.html#architecture-overview">Architecture Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="relying-party.html#preparations-and-onboarding">Preparations and Onboarding</a></li>
<li class="toctree-l2"><a class="reference internal" href="relying-party.html#decisions">Decisions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="relying-party.html#what-a-pid-doctype-looks-like">What a PID_DOCTYPE looks like</a></li>
<li class="toctree-l3"><a class="reference internal" href="relying-party.html#what-an-address-doctype-looks-like">What an ADDRESS_DOCTYPE looks like</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="relying-party.html#required-data">Required Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="relying-party.html#example-reader-auth-json">Example reader_auth.json</a></li>
<li class="toctree-l3"><a class="reference internal" href="relying-party.html#example-screenshot-of-reader-auth-json-data-used-in-wallet-app">Example Screenshot of reader_auth.json Data Used in Wallet App</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="relying-party.html#certificate-request">Certificate Request</a></li>
<li class="toctree-l2"><a class="reference internal" href="relying-party.html#file-request">File Request</a></li>
<li class="toctree-l2"><a class="reference internal" href="relying-party.html#wallet-server-installation">Wallet server installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="relying-party.html#obtaining-the-software">Obtaining the software</a></li>
<li class="toctree-l3"><a class="reference internal" href="relying-party.html#creating-a-database-backend-optional">Creating a database backend (optional)</a></li>
<li class="toctree-l3"><a class="reference internal" href="relying-party.html#create-a-database-server">Create a database server</a></li>
<li class="toctree-l3"><a class="reference internal" href="relying-party.html#create-user-and-database-itself">Create user and database itself:</a></li>
<li class="toctree-l3"><a class="reference internal" href="relying-party.html#apply-database-schema">Apply database schema:</a></li>
<li class="toctree-l3"><a class="reference internal" href="relying-party.html#creating-a-configuration">Creating a configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="relying-party.html#the-storage-settings">The storage settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="relying-party.html#using-in-memory-session-state">Using in-memory session state</a></li>
<li class="toctree-l4"><a class="reference internal" href="relying-party.html#using-database-persisted-session-state-optional">Using database persisted session state (optional)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="relying-party.html#determine-public-url">Determine public URL</a></li>
<li class="toctree-l3"><a class="reference internal" href="relying-party.html#universal-link-base-url">Universal link base URL</a></li>
<li class="toctree-l3"><a class="reference internal" href="relying-party.html#the-ephemeral-id-secret">The ephemeral ID secret</a></li>
<li class="toctree-l3"><a class="reference internal" href="relying-party.html#configuring-the-trustanchor-and-the-usecase">Configuring the trustanchor and the usecase</a></li>
<li class="toctree-l3"><a class="reference internal" href="relying-party.html#creating-the-configuration-file">Creating the configuration file</a></li>
<li class="toctree-l3"><a class="reference internal" href="relying-party.html#configuring-an-api-key-optional">Configuring an API key (optional)</a></li>
<li class="toctree-l3"><a class="reference internal" href="relying-party.html#configuring-cross-origin-resource-sharing-optional">Configuring Cross-Origin Resource Sharing (optional)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="relying-party.html#running-the-server-for-the-first-time">Running the server for the first time</a></li>
<li class="toctree-l2"><a class="reference internal" href="relying-party.html#server-logging">Server logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="relying-party.html#validating-the-configuration">Validating the configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="relying-party.html#background">Background</a><ul>
<li class="toctree-l3"><a class="reference internal" href="relying-party.html#what-a-disclosure-session-looks-like">What a Disclosure Session Looks Like</a></li>
<li class="toctree-l3"><a class="reference internal" href="relying-party.html#cross-device-vs-same-device">Cross Device vs. Same Device</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="relying-party.html#notes-on-requirements-applicable-to-your-application">Notes on Requirements Applicable to Your Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="relying-party.html#integration">Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="relying-party.html#api-specifications">API Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="relying-party.html#example-calls">Example calls</a><ul>
<li class="toctree-l3"><a class="reference internal" href="relying-party.html#initiate-a-disclosure-session">Initiate a Disclosure Session</a></li>
<li class="toctree-l3"><a class="reference internal" href="relying-party.html#check-status-of-session">Check Status of Session</a></li>
<li class="toctree-l3"><a class="reference internal" href="relying-party.html#retrieve-disclosure-results">Retrieve Disclosure Results</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="relying-party.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="spec-references.html">Specification references</a><ul>
<li class="toctree-l2"><a class="reference internal" href="spec-references.html#protocols">Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="spec-references.html#attestation-formats">Attestation formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="spec-references.html#cryptography">Cryptography</a></li>
<li class="toctree-l2"><a class="reference internal" href="spec-references.html#other">Other</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="generic_issuance/technical_attestation_schema.html">Generic issuance in NL Wallet ecosystem</a><ul>
<li class="toctree-l2"><a class="reference internal" href="generic_issuance/technical_attestation_schema.html#sd-jwt">SD-JWT</a></li>
<li class="toctree-l2"><a class="reference internal" href="generic_issuance/technical_attestation_schema.html#mdoc">mdoc</a><ul>
<li class="toctree-l3"><a class="reference internal" href="generic_issuance/technical_attestation_schema.html#serialize-the-mdoc-to-json-for-json-schema">1. Serialize the mdoc to JSON for JSON Schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="generic_issuance/technical_attestation_schema.html#convert-namespace-structure-to-nested-sd-jwt-structure">2. Convert namespace structure to nested SD-JWT structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="generic_issuance/technical_attestation_schema.html#example">Example</a><ul>
<li class="toctree-l4"><a class="reference internal" href="generic_issuance/technical_attestation_schema.html#sd-jwt-vc-type-metadata-used-for-validation">SD-JWT VC Type Metadata used for validation</a></li>
<li class="toctree-l4"><a class="reference internal" href="generic_issuance/technical_attestation_schema.html#mdoc-formatted-document-snippet">Mdoc formatted document snippet</a></li>
<li class="toctree-l4"><a class="reference internal" href="generic_issuance/technical_attestation_schema.html#transformed-snippet-used-for-validation-against-type-metadata">Transformed snippet used for validation against Type Metadata</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="spec-profiles/sd-jwt-vc.html">SD-JWT VC Profile for the NL Wallet, VV and OV</a><ul>
<li class="toctree-l2"><a class="reference internal" href="spec-profiles/sd-jwt-vc.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="spec-profiles/sd-jwt-vc.html#sd-jwt-vc-type-metadata">SD-JWT VC Type Metadata</a><ul>
<li class="toctree-l3"><a class="reference internal" href="spec-profiles/sd-jwt-vc.html#type-metadata">Type Metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec-profiles/sd-jwt-vc.html#display-metadata">Display Metadata</a><ul>
<li class="toctree-l4"><a class="reference internal" href="spec-profiles/sd-jwt-vc.html#credential-summary">Credential Summary</a></li>
<li class="toctree-l4"><a class="reference internal" href="spec-profiles/sd-jwt-vc.html#simple-rendering">Simple Rendering</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="spec-profiles/sd-jwt-vc.html#claims-metadata">Claims Metadata</a><ul>
<li class="toctree-l4"><a class="reference internal" href="spec-profiles/sd-jwt-vc.html#claim-metadata">Claim Metadata</a></li>
<li class="toctree-l4"><a class="reference internal" href="spec-profiles/sd-jwt-vc.html#claim-display-metadata">Claim Display Metadata</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="spec-profiles/sd-jwt-vc.html#extending-types">Extending types</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="spec-profiles/sd-jwt-vc.html#profile-considerations">Profile considerations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="spec-profiles/sd-jwt-vc.html#c1-credential-contents-must-be-presentable-to-the-end-user">C1 - Credential contents must be presentable to the end user</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec-profiles/sd-jwt-vc.html#c2-credential-summary-based-on-contents-for-optimized-browsing">C2 - Credential summary (based on contents) for optimized browsing</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec-profiles/sd-jwt-vc.html#c3-no-support-for-external-resources">C3 - No support for external resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec-profiles/sd-jwt-vc.html#c4-unambiguously-select-a-locale-for-displaying-credentials">C4 - Unambiguously select a locale for displaying credentials</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec-profiles/sd-jwt-vc.html#c5-allow-attributes-to-be-selectively-disclosable-by-default">C5 - Allow attributes to be selectively disclosable by default</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api/README.html">Open Api Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="diagrams/app_startup.html">App Startup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="diagrams/app_startup.html#initialization">Initialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="diagrams/app_startup.html#extra-callbacks">Extra callbacks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="diagrams/app_startup.html#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="diagrams/app_startup.html#wallet-lock">Wallet lock</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="diagrams/disclosure.html">Disclosure with OpenID4VP</a><ul>
<li class="toctree-l2"><a class="reference internal" href="diagrams/disclosure.html#generic-disclosure">Generic disclosure</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="diagrams/disclosure_based_issuance.html">Disclosure based issuance</a><ul>
<li class="toctree-l2"><a class="reference internal" href="diagrams/disclosure_based_issuance.html#api">API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="diagrams/disclosure_based_issuance.html#attestation-server">Attestation server</a></li>
<li class="toctree-l3"><a class="reference internal" href="diagrams/disclosure_based_issuance.html#issuance-server-configuration"><code class="docutils literal notranslate"><span class="pre">issuance_server</span></code> configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="diagrams/disclosure_based_issuance.html#qr-ul">QR/UL</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="diagrams/disclosure_based_issuance.html#sequence-diagram">Sequence diagram</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="diagrams/issuance.html">Issuance with OpenID4VCI</a><ul>
<li class="toctree-l2"><a class="reference internal" href="diagrams/issuance.html#pid-issuance">PID issuance</a></li>
<li class="toctree-l2"><a class="reference internal" href="diagrams/issuance.html#generic-issuance">Generic issuance</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="diagrams/overview_components.html">Components overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="diagrams/pin_validation.html">Pin validation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="diagrams/pin_validation.html#local-pin-validation">Local pin validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="diagrams/pin_validation.html#remote-pin-validation">Remote pin validation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="diagrams/wallet_creation.html">Wallet creation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="diagrams/wallet_creation.html#create-wallet-app">Create wallet (app)</a></li>
<li class="toctree-l2"><a class="reference internal" href="diagrams/wallet_creation.html#create-wallet-server">Create wallet (server)</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Lokalise</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#workflow">Workflow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#exporting-translations-lokalise-app">Exporting translations (lokalise -&gt; app)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#export-script">Export script</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#importing-keys-translations-app-lokalise">Importing keys/translations (app -&gt; lokalise)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#import-script">Import script</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="chores/update-rust.html">How to update Rust (or anything really) for NL Wallet</a><ul>
<li class="toctree-l2"><a class="reference internal" href="chores/update-rust.html#update-rust-images">Update Rust images</a></li>
<li class="toctree-l2"><a class="reference internal" href="chores/update-rust.html#update-rust-macos-runner">Update Rust macOS Runner</a></li>
<li class="toctree-l2"><a class="reference internal" href="chores/update-rust.html#update-rust-workspace-version">Update Rust workspace version</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="wow/definition-of-done.html">Definition of done</a><ul>
<li class="toctree-l2"><a class="reference internal" href="wow/definition-of-done.html#in-general">In general</a></li>
<li class="toctree-l2"><a class="reference internal" href="wow/definition-of-done.html#things-we-check-every-pull-or-merge-request">Things we check every pull- or merge request</a><ul>
<li class="toctree-l3"><a class="reference internal" href="wow/definition-of-done.html#is-in-compliance-with-our-coding-and-quality-standards">Is in compliance with our coding and quality standards</a></li>
<li class="toctree-l3"><a class="reference internal" href="wow/definition-of-done.html#implements-and-tests-all-acceptance-criteria-and-or-capabilities">Implements and tests all acceptance criteria and/or capabilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="wow/definition-of-done.html#implements-any-screens-according-to-our-figma-designs-if-applicable">Implements any screens according to our Figma designs (if applicable)</a></li>
<li class="toctree-l3"><a class="reference internal" href="wow/definition-of-done.html#is-described-in-release-notes-with-any-breaking-changes-or-upgrade-steps">Is described in release notes, with any breaking changes or upgrade steps</a></li>
<li class="toctree-l3"><a class="reference internal" href="wow/definition-of-done.html#is-documented-in-readme-md-files-openapi-specs-documentation-folder">Is documented (in README.md files, OpenAPI specs, documentation folder)</a></li>
<li class="toctree-l3"><a class="reference internal" href="wow/definition-of-done.html#does-not-contain-commits-with-personal-secret-or-copyrighted-information">Does not contain commits with personal, secret or copyrighted information</a></li>
<li class="toctree-l3"><a class="reference internal" href="wow/definition-of-done.html#incurred-technical-debt-has-a-todo-comment-and-a-related-issue-ticket">Incurred technical debt has a TODO comment and a related issue ticket</a></li>
<li class="toctree-l3"><a class="reference internal" href="wow/definition-of-done.html#can-be-deployed-locally-and-remotely-ci-cd-related-setup-up-to-date">Can be deployed locally and remotely (CI/CD related setup up-to-date)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="wow/merge-requests.html">Merge Requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="wow/release-howto.html">Releases Howto</a><ul>
<li class="toctree-l2"><a class="reference internal" href="wow/release-howto.html#assumptions">Assumptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="wow/release-howto.html#what-constitutes-a-release">What constitutes a release?</a></li>
<li class="toctree-l2"><a class="reference internal" href="wow/release-howto.html#doing-a-release">Doing a release</a><ul>
<li class="toctree-l3"><a class="reference internal" href="wow/release-howto.html#step-1-make-sure-the-release-on-jira-is-green">Step 1: Make sure the release on Jira is green</a></li>
<li class="toctree-l3"><a class="reference internal" href="wow/release-howto.html#step-2-make-sure-figma-links-are-up-to-date-in-readme-md">Step 2: Make sure Figma links are up-to-date in README.md</a></li>
<li class="toctree-l3"><a class="reference internal" href="wow/release-howto.html#step-3-confirm-appropiate-tests-and-reports-have-been-done-for-this-release">Step 3: Confirm appropiate tests and reports have been done for this release</a></li>
<li class="toctree-l3"><a class="reference internal" href="wow/release-howto.html#step-4-release-approval">Step 4: Release approval</a></li>
<li class="toctree-l3"><a class="reference internal" href="wow/release-howto.html#step-5-freeze-git-main-branch">Step 5: Freeze git main branch</a></li>
<li class="toctree-l3"><a class="reference internal" href="wow/release-howto.html#step-6-set-release-version-and-tag">Step 6: Set release version and tag</a></li>
<li class="toctree-l3"><a class="reference internal" href="wow/release-howto.html#step-7-set-development-version">Step 7: Set development version</a></li>
<li class="toctree-l3"><a class="reference internal" href="wow/release-howto.html#step-8-collect-build-artifacts-for-release">Step 8: Collect build artifacts for release</a></li>
<li class="toctree-l3"><a class="reference internal" href="wow/release-howto.html#step-9-create-a-release-description">Step 9: Create a release description</a></li>
<li class="toctree-l3"><a class="reference internal" href="wow/release-howto.html#step-10-create-github-release-from-tag">Step 10: Create GitHub release from tag</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="wow/release-howto.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="templates/release-notes.html">Release Notes Template</a><ul>
<li class="toctree-l2"><a class="reference internal" href="templates/release-notes.html#vx-y-z-fill-in-version-place-at-documentation-release-notes-vx-y-z-md">vX.Y.Z (fill in version, place at /documentation/release-notes/vX.Y.Z.md)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="templates/release-notes.html#important-this-is-an-optional-header-remove-if-there-are-no">Important (this is an optional header, remove if there are no )</a></li>
<li class="toctree-l3"><a class="reference internal" href="templates/release-notes.html#changes">Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="release-notes/releases.html">Releases</a><ul>
<li class="toctree-l2"><a class="reference internal" href="release-notes/v0.3.0.html">Release notes v0.3.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="release-notes/v0.3.0.html#upgrading">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="release-notes/v0.3.0.html#new-features">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="release-notes/v0.3.0.html#code-improvements">Code improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="release-notes/v0.3.0.html#wallet-app-improvements">Wallet app improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="release-notes/v0.3.0.html#bug-fixes">Bug fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="release-notes/v0.3.0.html#ci-changes">CI changes</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #383EDE" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">NL Wallet</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Lokalise</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/lokalise.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="lokalise">
<h1>Lokalise<a class="headerlink" href="#lokalise" title="Link to this heading"></a></h1>
<p>Internally, this project uses the commercial Lokalise service to manage translations. This service is currently not accessible for external contributors. The following is for contributors with access.</p>
<section id="workflow">
<h2>Workflow<a class="headerlink" href="#workflow" title="Link to this heading"></a></h2>
<p>The most common workflow to add or edit translations is to go to the Lokalise <a class="reference external" href="https://app.lokalise.com/project/6436413463447da2022622.90277191/">nl-wallet-app</a> project and edit the translations in the web UI. After doing so you can export the new translations as .arb files to be used in the project.</p>
<section id="exporting-translations-lokalise-app">
<h3>Exporting translations (lokalise -&gt; app)<a class="headerlink" href="#exporting-translations-lokalise-app" title="Link to this heading"></a></h3>
<p>To download the latest translations from Lokalise, go to the ‘Download’ tab and select the following:</p>
<ul class="simple">
<li><p>File format: Flutter (.arb)</p></li>
<li><p>Include all platform keys (no idea if this is necessary)</p></li>
<li><p>Languages: All</p></li>
<li><p>File structure:</p>
<ul>
<li><p>One file per language</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">intl_%LANG_ISO%.%FORMAT%</span></code></p></li>
</ul>
</li>
<li><p>Advanced settings:</p>
<ul>
<li><p>Disable <code class="docutils literal notranslate"><span class="pre">compact</span> <span class="pre">format</span></code></p></li>
<li><p>Enable <code class="docutils literal notranslate"><span class="pre">include</span> <span class="pre">description</span></code></p></li>
<li><p>Enable <code class="docutils literal notranslate"><span class="pre">Replace</span> <span class="pre">line</span> <span class="pre">breaks</span> <span class="pre">with</span> <span class="pre">\n</span></code></p></li>
</ul>
</li>
<li><p>App triggers:</p>
<ul>
<li><p>None</p></li>
</ul>
</li>
</ul>
<p>Click <code class="docutils literal notranslate"><span class="pre">Preview</span></code> to preview your changes, and click <code class="docutils literal notranslate"><span class="pre">Build</span> <span class="pre">and</span> <span class="pre">download</span></code> to download the translations.
Place the contents of the download zip file in the <code class="docutils literal notranslate"><span class="pre">wallet_app/lib/l10n</span></code> folder.
Al</p>
<section id="export-script">
<h4>Export script<a class="headerlink" href="#export-script" title="Link to this heading"></a></h4>
<p>Alternatively you can run the following script (inside the <code class="docutils literal notranslate"><span class="pre">wallet_app</span></code> dir), make sure to set <code class="docutils literal notranslate"><span class="pre">LOKALISE_API_KEY</span></code>, an API Token can be generated from the Lokalise dashboard at Profile Settings -&gt; API Tokens.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="c1"># Download &#39;nl-wallet-showcase-app.zip&#39; </span>
curl<span class="w"> </span>--request<span class="w"> </span>POST<span class="w"> </span><span class="se">\</span>
<span class="w">     </span>--url<span class="w"> </span>https://api.lokalise.com/api2/projects/6436413463447da2022622.90277191:branch/files/download<span class="w"> </span><span class="se">\</span>
<span class="w">     </span>--header<span class="w"> </span><span class="s1">&#39;X-Api-Token: &#39;</span><span class="s2">&quot;</span><span class="nv">$LOKALISE_API_KEY</span><span class="s2">&quot;</span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">     </span>--header<span class="w"> </span><span class="s1">&#39;accept: application/json&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">     </span>--header<span class="w"> </span><span class="s1">&#39;content-type: application/json&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">     </span>--data<span class="w"> </span><span class="s1">&#39;</span>
<span class="s1">{</span>
<span class="s1">  &quot;format&quot;: &quot;arb&quot;,</span>
<span class="s1">  &quot;replace_breaks&quot;: false,</span>
<span class="s1">  &quot;plural_format&quot;: &quot;icu&quot;,</span>
<span class="s1">  &quot;compact&quot;: false,</span>
<span class="s1">  &quot;original_filenames&quot;: false,</span>
<span class="s1">  &quot;bundle_structure&quot;: &quot;lib/l10n/intl_%LANG_ISO%.%FORMAT%&quot;</span>
<span class="s1">}</span>
<span class="s1">&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-o<span class="w"> </span><span class="s1">&#39;&quot;bundle_url&quot;:&quot;[^&quot;]*&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-o<span class="w"> </span><span class="s1">&#39;[^&quot;]*$&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w"> </span>wget

<span class="c1"># Unzip &#39;nl-wallet-showcase-app.zip&#39;</span>
unzip<span class="w"> </span>-o<span class="w"> </span>nl-wallet-showcase-app.zip

<span class="c1"># Clean up</span>
rm<span class="w"> </span>nl-wallet-showcase-app.zip

<span class="c1"># Generate new translation files</span>
flutter<span class="w"> </span>gen-l10n
</pre></div>
</div>
</section>
</section>
<section id="importing-keys-translations-app-lokalise">
<h3>Importing keys/translations (app -&gt; lokalise)<a class="headerlink" href="#importing-keys-translations-app-lokalise" title="Link to this heading"></a></h3>
<p>When managing the translations in Lokalise, importing from the app should in theory never be necessary, however if the translations do run out of sync (e.g. because keys were only added in the app repo) the following can be done to sync the new keys back to lokalise.</p>
<p>Go to the upload tab of the nl-wallet-app project and use the following options:</p>
<ul class="simple">
<li><p>[x] Replace \n with line break</p></li>
<li><p>[x] Convert to universal placeholders</p></li>
<li><p>[x] Detect ICU plurals</p></li>
<li><p>[ ] Tag keys</p></li>
<li><p>[ ] Differentiate keys by file</p></li>
<li><p>[ ] Fill empty keys with key name</p></li>
<li><p>[ ] Hide from contributors</p></li>
<li><p>[ ] Pre-translate with 100% TM matches</p></li>
<li><p>[x] Replace modified values (disable to only push new keys)</p></li>
<li><p>[ ] Enable cleanup mode  (<em>Caution</em>: Can be useful to clean up Lokalise, but remember to create a snapshot first! This can be done via: More -&gt; Snapshots -&gt; Take new snapshot)</p></li>
</ul>
<p>After uploading both the intl_en.arb and intl_nl.arb and processing them the localisations should be in sync with the repository.</p>
<section id="import-script">
<h4>Import script<a class="headerlink" href="#import-script" title="Link to this heading"></a></h4>
<p>Alternatively you can run the following script (inside the <code class="docutils literal notranslate"><span class="pre">wallet_app</span></code> dir), make sure to set <code class="docutils literal notranslate"><span class="pre">LOKALISE_API_KEY</span></code>, an API Token can be generated from the Lokalise dashboard at Profile Settings -&gt; API Tokens.</p>
<p>Note that the script always creates a snapshot before uploading and that <code class="docutils literal notranslate"><span class="pre">replace_modified</span></code> is disabled by default. Run the script with the <code class="docutils literal notranslate"><span class="pre">--replace-modified</span></code> option to enable this.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="c1"># Check for the --replace-modified flag</span>
<span class="nv">replaceModified</span><span class="o">=</span><span class="s2">&quot;false&quot;</span>
<span class="k">for</span><span class="w"> </span>arg<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="nv">$arg</span><span class="w"> </span><span class="k">in</span>
<span class="w">  </span>--replace-modified<span class="o">)</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Uploading with replace_modified enabled&quot;</span>
<span class="w">    </span><span class="nv">replaceModified</span><span class="o">=</span><span class="s2">&quot;true&quot;</span>
<span class="w">    </span><span class="p">;;</span>
<span class="w">  </span><span class="k">esac</span>
<span class="k">done</span>

<span class="c1"># Create a snapshot for safety purposes</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Creating snapshot...&quot;</span>
curl<span class="w"> </span>--request<span class="w"> </span>POST<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--url<span class="w"> </span>https://api.lokalise.com/api2/projects/6436413463447da2022622.90277191/snapshots<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--header<span class="w"> </span><span class="s1">&#39;X-Api-Token: &#39;</span><span class="s2">&quot;</span><span class="nv">$LOKALISE_API_KEY</span><span class="s2">&quot;</span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--header<span class="w"> </span><span class="s1">&#39;accept: application/json&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--header<span class="w"> </span><span class="s1">&#39;content-type: application/json&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--data<span class="w"> </span><span class="s1">&#39;</span>
<span class="s1">{</span>
<span class="s1">  &quot;title&quot;: &quot;Upload script&quot;</span>
<span class="s1">}</span>
<span class="s1">&#39;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&quot;</span>

<span class="c1"># Upload language files</span>
<span class="nv">supportedLocales</span><span class="o">=(</span><span class="s2">&quot;en&quot;</span><span class="w"> </span><span class="s2">&quot;nl&quot;</span><span class="o">)</span>
<span class="k">for</span><span class="w"> </span>languageIso<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">supportedLocales</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">  </span><span class="nv">languageFile</span><span class="o">=</span><span class="s2">&quot;lib/l10n/intl_</span><span class="nv">$languageIso</span><span class="s2">.arb&quot;</span>
<span class="w">  </span><span class="nv">fileContents</span><span class="o">=</span><span class="k">$(</span>base64<span class="w"> </span>&lt;<span class="s2">&quot;</span><span class="nv">$languageFile</span><span class="s2">&quot;</span><span class="k">)</span>
<span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Uploading </span><span class="si">${</span><span class="nv">languageFile</span><span class="si">}</span><span class="s2">...&quot;</span>
<span class="w">  </span>curl<span class="w"> </span>--request<span class="w"> </span>POST<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--url<span class="w"> </span>https://api.lokalise.com/api2/projects/6436413463447da2022622.90277191:branch/files/upload<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--header<span class="w"> </span><span class="s1">&#39;X-Api-Token: &#39;</span><span class="s2">&quot;</span><span class="nv">$LOKALISE_API_KEY</span><span class="s2">&quot;</span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--header<span class="w"> </span><span class="s1">&#39;accept: application/json&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--header<span class="w"> </span><span class="s1">&#39;content-type: application/json&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--data<span class="w"> </span><span class="s1">&#39;</span>
<span class="s1">    {</span>
<span class="s1">      &quot;data&quot;: &quot;&#39;</span><span class="s2">&quot;</span><span class="nv">$fileContents</span><span class="s2">&quot;</span><span class="s1">&#39;&quot;,</span>
<span class="s1">      &quot;filename&quot;: &quot;&#39;</span><span class="s2">&quot;</span><span class="nv">$languageFile</span><span class="s2">&quot;</span><span class="s1">&#39;&quot;,</span>
<span class="s1">      &quot;lang_iso&quot;: &quot;&#39;</span><span class="s2">&quot;</span><span class="nv">$languageIso</span><span class="s2">&quot;</span><span class="s1">&#39;&quot;,</span>
<span class="s1">      &quot;convert_placeholders&quot;: true,</span>
<span class="s1">      &quot;detect_icu_plurals&quot;: true,</span>
<span class="s1">      &quot;slashn_to_linebreak&quot;: true,</span>
<span class="s1">      &quot;replace_modified&quot;: &#39;</span><span class="s2">&quot;</span><span class="nv">$replaceModified</span><span class="s2">&quot;</span><span class="s1">&#39;</span>
<span class="s1">    }</span>
<span class="s1">    &#39;</span>
<span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="k">done</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="diagrams/wallet_creation.html" class="btn btn-neutral float-left" title="Wallet creation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="chores/update-rust.html" class="btn btn-neutral float-right" title="How to update Rust (or anything really) for NL Wallet" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, NL Wallet.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: v0.3.0
    <span class="fa fa-caret-down"></span>
  </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Releases</dt>
            <dd><a href="lokalise.html">v0.3.0</a></dd>
        </dl>
    </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>