

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Releases Howto &mdash; NL Wallet 0.4.0-dev documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=b823da26" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=bf7cd258"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/js/custom.js?v=48752f09"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="v0.3.0" href="../release-notes/v0.3.0.html" />
    <link rel="prev" title="Merge Requests" href="merge-requests.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #383EDE" >

          
          
          <a href="../index.html" class="icon icon-home">
            NL Wallet
              <img src="../_static/wallet.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Get Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../get-started/preparations.html">Preparations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get-started/create-a-verifier.html">Create a Verifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get-started/create-an-issuer.html">Create an Issuer</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Architecture</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../architecture/components-overview.html">Components Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture/disclosure-based-issuance.html">Disclosure-based Issuance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture/disclosure-with-openid4vp.html">Disclosure with OpenID4VP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture/issuance-with-openid4vci.html">Issuance with OpenID4VCI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture/mobile-app-startup.html">Mobile App Startup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture/pin-validation.html">Pin Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture/wallet-creation.html">Wallet Creation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Functional Design</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../functional-design/about.html">About the Functional Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functional-design/use-cases.html">Use Cases</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../functional-design/use-cases/UC1.1_IntroduceTheApp.html">Use Case 1.1 Introduce the app</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functional-design/use-cases/UC1.2_OpenTheApp.html">Use Case 1.2 Open the app</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functional-design/use-cases/UC1.3_AppTour.html">Use Case 1.3 App tour</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functional-design/use-cases/UC2.1_SetupRemotePinAndBiometricsUnlock.html">Use Case 2.1 Setup a remote PIN and biometric unlock</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functional-design/use-cases/UC2.2_ChangeBiometricUnlock.html">Use Case 2.2 Change biometric unlock</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functional-design/use-cases/UC2.3_UnlockTheApp.html">Use Case 2.3 Unlock the app</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functional-design/use-cases/UC2.6_ChangeRemotePIN.html">Use Case 2.6 Change remote PIN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functional-design/use-cases/UC3.1_ObtainPidFromProvider.html">Use Case 3.1 Obtain PID</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functional-design/use-cases/UC4.1_ObtainCardsFromEAAIssuer.html">Use Case 4.1 Obtain one or more cards from a (Q)EAA Issuer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functional-design/use-cases/UC5.1_ShareDataWithRP.html">Use Case 5.1 Share data with a Relying Party</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functional-design/use-cases/UC5.2_LoginToApplicationOfRP.html">Use Case 5.2 Log in to Relying Party application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functional-design/use-cases/UC6.1_ShowCompleteUsageAndManagementHistory.html">Use Case 6.1 Show complete history</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functional-design/use-cases/UC6.2_ShowUsageAndManagementHistoryOfCard.html">Use Case 6.2 Show card history</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functional-design/use-cases/UC6.3_ShowHistoryEvent.html">Use Case 6.2 Show card history</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functional-design/use-cases/UC7.1_ShowAllAvailableCards.html">Use Case 7.1 Show all available cards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functional-design/use-cases/UC7.2_ShowCardDetails.html">Use Case 7.2 Show card details</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functional-design/use-cases/UC9.1_ShowAppMenu.html">Use Case 9.1. Show app menu</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functional-design/use-cases/UC9.2_GetAppInformation.html">Use Case 9.2 Get app information</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functional-design/use-cases/UC9.3_ChangeAppLanguage.html">Use Case 9.3 Change app language</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functional-design/use-cases/UC9.4_WipeAllAppData.html">Use Case 9.4 Wipe all app data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functional-design/use-cases/UC9.6_GetHelp.html">Use Case 9.6 Get help</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functional-design/use-cases/UC9.7_LogoutOffTheApp.html">Use Case 9.7 Log out of the app</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functional-design/use-cases/UC9.9_ScanQR.html">Use Case 9.9 Scan QR</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../functional-design/partial-flows.html">Partial Flows</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../functional-design/partial-flows/PF1.4_ApplyAppUpdatePolicy.html">Partial Flow 1.4 Apply update policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functional-design/partial-flows/PF2.4_ConfirmProtectedAction.html">Partial Flow 2.4 Confirm a protected action</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functional-design/partial-flows/PF2.7_ResolveUniversalLink.html">Partial Flow 2.7 Resolve a universal link</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functional-design/partial-flows/PF2.8_ValidatePin.html">Partial Flow 2.8 Validate entered PIN</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../functional-design/logical-test-cases.html">Logical Test Cases</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development/generic-issuance.html">Generic Issuance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/openapi-specifications.html">OpenAPI Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/sd-jwt-vc-profile.html">SD-JWT VC Profile</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/specification-references.html">Specification References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/sphinx-documentation.html">Sphinx Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/updating-rust.html">Updating Rust</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/using-lokalise.html">Using Lokalise</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Community</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../community/onboarding.html">Onboarding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community/create-a-ca.html">Create a CA</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Way of Working</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="definition-of-done.html">Definition of Done</a></li>
<li class="toctree-l1"><a class="reference internal" href="merge-requests.html">Merge Requests</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Releases Howto</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../release-notes/v0.3.0.html">v0.3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release-notes/v0.4.0.html">v0.4.0 (in development)</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #383EDE" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">NL Wallet</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Releases Howto</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/way-of-working/release-howto.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="releases-howto">
<h1>Releases Howto<a class="headerlink" href="#releases-howto" title="Link to this heading"></a></h1>
<p>This guide documents how we do releases, A to Z. The goal is that any team
member can do a release, and knows what steps and which roles are involved.</p>
<section id="assumptions">
<h2>Assumptions<a class="headerlink" href="#assumptions" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>The main git branch is stable and always in a runnable state</p></li>
<li><p>The definitions of done of any merged feature always includes relevant
documentation we can refer to (config file changes, schema changes, etc)</p></li>
<li><p>The definitions of done of any merged feature always includes any relevant
unit-, integration and/or end-to-end tests (i.e., features are tested)</p></li>
<li><p>You have <code class="docutils literal notranslate"><span class="pre">cargo-edit</span></code> and <code class="docutils literal notranslate"><span class="pre">git-filter-repo</span></code> installed</p></li>
</ul>
</section>
<section id="what-constitutes-a-release">
<h2>What constitutes a release?<a class="headerlink" href="#what-constitutes-a-release" title="Link to this heading"></a></h2>
<p>A release is a commit in our Git repository that we tag with a [semver][1]
version tag, and for which we make source code and binaries available.</p>
<p>To do a release, we have a whole bunch of steps we execute. Some of these steps
are manual, some are automated in our CI/CD environment. This guide documents
all those steps, enabling the reader to go through them sequentially, when doing
a release themselves.</p>
</section>
<section id="doing-a-release">
<h2>Doing a release<a class="headerlink" href="#doing-a-release" title="Link to this heading"></a></h2>
<p>This section of the guide documents all the steps we do when we do a release.</p>
<section id="step-1-make-sure-the-release-on-jira-is-green-and-complete">
<h3>Step 1: Make sure the release on Jira is green and complete<a class="headerlink" href="#step-1-make-sure-the-release-on-jira-is-green-and-complete" title="Link to this heading"></a></h3>
<p>We use [Jira Releases][2] (also sort-of interchangably called “versions”) to
keep track of things we want to have in a release and administrate for which
Jira items code has been merged within the release period for that version. When
you go to our <code class="docutils literal notranslate"><span class="pre">PVW</span></code> project page on Jira, and click on the “boat” icon on the
left, you’ll see our releases page.</p>
<p>For the version you want to release, have a look at the progress bar. When you
click on the release, you’ll see all issues in it - essentially, you want all
issues to be in the <code class="docutils literal notranslate"><span class="pre">Done</span></code> state (except possibly for the ones which are related
to doing the release work itself).</p>
<p>If there are still issues <code class="docutils literal notranslate"><span class="pre">In</span> <span class="pre">Progress</span></code> or otherwise, have a chit-chat with the
relevant folks with regards to status and discuss with the product owner. When
an issue is still far from done but important for this release, it effectively
blocks the release - you need to wait until the issue is done. Alternatively,
you and/or the product owner might decide that the issue can be moved to the
next release.</p>
<p>When the release is “green” (i.e., all relevant issues are in the <code class="docutils literal notranslate"><span class="pre">Done</span></code> state)
you know that the relevant features and fixes have been merged in the <code class="docutils literal notranslate"><span class="pre">main</span></code>
branch, and you can create a release tag (which we do later on in this guide).</p>
<p>The nightly_git_jira_check job automatically keeps Jira issues up-to-date with
GitLab MRs by setting the correct fixVersion based on merged branches. So by the
time you’re prepping the release, Jira should already reflect the correct state,
but it is advised to verify the job log of nightly_git_jira_check. This job also
checks and logs other inconsistencies:</p>
<ul class="simple">
<li><p>Issues with the wrong version</p></li>
<li><p>Issues with multiple fixVersions</p></li>
<li><p>MRs with source branches that do not contain an existing Jira item</p></li>
</ul>
<p>In the latter case this cannot be synced/corrected automatically. In job
‘verify_release_check’, which runs in the release tag pipeline, an artifact is
created in which all MRs that are misisng a Jira key are logged. Add this file
to the release ticket in Jira or a separate ticket belonging to the release to
ensure a quick way to determinate what has been released.</p>
</section>
<section id="step-2-make-sure-figma-links-are-up-to-date-in-readme-md">
<h3>Step 2: Make sure Figma links are up-to-date in README.md<a class="headerlink" href="#step-2-make-sure-figma-links-are-up-to-date-in-readme-md" title="Link to this heading"></a></h3>
<p>We have links to Figma in our <code class="docutils literal notranslate"><span class="pre">README.md</span></code> file. We always update these before we
tag the release. Obtain the up-to-date links from the UX team, create an MR and
update the README.</p>
</section>
<section id="step-3-confirm-appropiate-tests-and-reports-have-been-done-for-this-release">
<h3>Step 3: Confirm appropiate tests and reports have been done for this release<a class="headerlink" href="#step-3-confirm-appropiate-tests-and-reports-have-been-done-for-this-release" title="Link to this heading"></a></h3>
<p>We do most testing in an automated fashion using our CI/CD pipeline. There are
however still a few things we confirm. Most notably:</p>
<ul class="simple">
<li><p>Stable main pipeline (CI/CD pipeline for main is green)</p></li>
<li><p>Automated nightly E2E testsuite succesful</p></li>
<li><p>Manual E2E testsuite executed and green (there is a metric in our quality time
instance that our software quality engineer uses for this, you can ask him for
the link)</p></li>
<li><p>OSV scanner ran and results accepted (see <code class="docutils literal notranslate"><span class="pre">osv-scanner</span></code> job in pipeline)</p></li>
<li><p>ZAP scanner ran and results accepted (see ZAP in Quality Time)</p></li>
<li><p>No blocker or critical Sonar findings (you can check our Sonar instance for
these findings, ask around for the link if you don’t have it)</p></li>
</ul>
<p>The manual E2E tests are usually executed by the test automation engineer. We
are working on getting automated ZAP tests as part of the pipeline that will
block on serious issues, and warn on lower priority ones.</p>
<p>The confirmation of the acceptability of the tests and any required reports is
done by our software quality engineer. He will e-mail our shared e-mail account,
the software delivery manager and the product owner with their approval and/or
any remarks or findings.</p>
<p>If there are any findings which can’t be accepted or worked around, they will
probably block the release and need to be addressed or otherwise accepted before
further release-steps can occur.</p>
</section>
<section id="step-4-release-approval">
<h3>Step 4: Release approval<a class="headerlink" href="#step-4-release-approval" title="Link to this heading"></a></h3>
<p>The release in Jira is green, manual and automated testing is done and the other
things we confirm in the previous step are all ok or accepted. The product owner
<em>and</em> the software delivery manager now need to reply to the e-mail from the
software quality engineer (see previous step) with an approval for release. The
software delivery manager and the product owner CC the shared e-mail account and
the technical team members who are executing the release.</p>
<p>When you have received this CC and it contains the approval from <em>both</em> the
product owner and the software delivery manager, you can continue onwards with
the steps to execute the release.</p>
<p>If for some reason the release is not approved, then we as a team need to
address any issues and concerns raised by the PO and/or SDM before further
release-steps can occur.</p>
</section>
<section id="step-5-freeze-git-main-branch">
<h3>Step 5: Freeze git main branch<a class="headerlink" href="#step-5-freeze-git-main-branch" title="Link to this heading"></a></h3>
<p>To avoid someone accidentally or otherwise sniping in another change, you can
temporarily “freeze” the main branch. To do this in GitLab, you can follow these
steps:</p>
<ol class="arabic simple">
<li><p>Go to the project page, click <code class="docutils literal notranslate"><span class="pre">Settings</span></code>, go to <code class="docutils literal notranslate"><span class="pre">Repository</span> <span class="pre">settings</span></code>;</p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Expand</span></code> on <code class="docutils literal notranslate"><span class="pre">Protected</span> <span class="pre">branches</span></code> and see the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch there;</p></li>
<li><p>Set <code class="docutils literal notranslate"><span class="pre">Allowed</span> <span class="pre">to</span> <span class="pre">merge</span></code> to <code class="docutils literal notranslate"><span class="pre">None</span></code>;</p></li>
<li><p>Set <code class="docutils literal notranslate"><span class="pre">Allowed</span> <span class="pre">to</span> <span class="pre">push</span> <span class="pre">and</span> <span class="pre">merge</span></code> to specifically <strong>your</strong> user account;</p></li>
</ol>
<p>After doing the above, no one except you can merge or push to the <code class="docutils literal notranslate"><span class="pre">main</span> <span class="pre">branch</span></code>.</p>
<p>Don’t forget to undo the above when you’re done (at least after you’ve completed
steps 6 and 7).</p>
</section>
<section id="step-6-set-release-version-and-tag">
<h3>Step 6: Set release version and tag<a class="headerlink" href="#step-6-set-release-version-and-tag" title="Link to this heading"></a></h3>
<p>We are now ready to tag the release in our git repository. Before we create the
tag though, we need to make sure that a couple of project files contain the
right version also.</p>
<p>In the <code class="docutils literal notranslate"><span class="pre">scripts</span></code> subdirectory you’ll find the <code class="docutils literal notranslate"><span class="pre">version.sh</span></code> release helper. It’s
a straightforward tool that assists you in setting the version of our components
and can show you which versions we have already.</p>
<p>Start a new MR and run <code class="docutils literal notranslate"><span class="pre">version.sh</span> <span class="pre">-s</span> <span class="pre">RELEASE_VERSION</span></code> (where <code class="docutils literal notranslate"><span class="pre">RELEASE_VERSION</span></code>
is something like <code class="docutils literal notranslate"><span class="pre">v0.2.2</span></code>). Run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> to see what changed and verify the
sanity of the changes (should be small and easy to comprehend).</p>
<p>Get the MR merged and after merge, run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">tag</span> <span class="pre">RELEASE_VERSION</span></code> (where
<code class="docutils literal notranslate"><span class="pre">RELEASE_VERSION</span></code> is something like <code class="docutils literal notranslate"><span class="pre">v0.2.2</span></code>). After tagging, push the tag with
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">--tags</span></code>.</p>
</section>
<section id="step-7-set-development-version">
<h3>Step 7: Set development version<a class="headerlink" href="#step-7-set-development-version" title="Link to this heading"></a></h3>
<p>Immediately start a new MR to set the development version. To do so, run
<code class="docutils literal notranslate"><span class="pre">version.sh</span> <span class="pre">-s</span> <span class="pre">DEVELOPMENT_VERSION</span></code> (where <code class="docutils literal notranslate"><span class="pre">DEVELOPMENT_VERSION</span></code> is something
like <code class="docutils literal notranslate"><span class="pre">v0.2.3-dev</span></code>). To clarify, when you set a version like <code class="docutils literal notranslate"><span class="pre">v0.2.3-dev</span></code>, you
are indicating that this is the development version of the upcoming <code class="docutils literal notranslate"><span class="pre">v0.2.3</span></code>.
This development version <code class="docutils literal notranslate"><span class="pre">v0.2.3-dev</span></code> will remain set in the component project
files, until we are ready to release, which then leads us to repeat the cycle,
set <code class="docutils literal notranslate"><span class="pre">v0.2.3</span></code> and tag, set the next dev version, etc.</p>
<p>After you’ve set the development version, merge the MR. It is best if this is
done quickly so people don’t accidentally start doing work under the older
version tags.</p>
</section>
<section id="step-8-collect-build-artifacts-for-release">
<h3>Step 8: Collect build artifacts for release<a class="headerlink" href="#step-8-collect-build-artifacts-for-release" title="Link to this heading"></a></h3>
<p>We currently (2024-10-22) collect 4 artifacts from our GitLab CI/CD pipeline:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">wallet-sbom_vX.Y.Z_generic.zip</span></code>: The software-bill-of-materials for this
release.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">wallet-issuance-server_vX.Y.Z_x86_64-linux-glibc.zip</span></code>: The wallet issuance
server for issuers, for glibc-based Linux systems built with Debian bookworm.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">wallet-issuance-server_vX.Y.Z_x86_64-linux-musl.zip</span></code>: The wallet issuance
server for issuers using statically linked musl.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">wallet-verification-server_vX.Y.Z_x86_64-linux-glibc.zip</span></code>: The wallet
verification server for relying parties, for glibc-based Linux systems built
with Debian bookworm.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">wallet-verification-server_vX.Y.Z_x86_64-linux-musl.zip</span></code>: The wallet
verification server for relying parties using statically linked musl.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">wallet-web_vX.Y.Z_generic.zip</span></code>: The javascript helper library for issuers and
relying parties, to assist with integrating issuers and relying party
applications with the wallet platform.</p></li>
</ul>
<p>You can collect these artifacts from our GitLab CI/CD pipeline - you need to go
to the relevant job and click on download artifact/zip. You might need to rename
the zip file and/or repackage in the case of <code class="docutils literal notranslate"><span class="pre">issuance_server</span></code>,
<code class="docutils literal notranslate"><span class="pre">verification_server</span></code> and <code class="docutils literal notranslate"><span class="pre">wallet_web</span></code>.</p>
<p>Currently (2024-11-07) you need to create the sha256sums manually (in the future
we would like to adjust the pipeline that creates the binary artifacts such that
it will create the sha256 hashes also). To create the sha256sum texts, enter the
directory which contains the above mentioned zip files and run:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="k">for</span><span class="w"> </span>zip<span class="w"> </span><span class="k">in</span><span class="w"> </span>*.zip<span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span>sha256sum<span class="w"> </span><span class="nv">$zip</span><span class="w"> </span>&gt;<span class="w"> </span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="nv">$zip</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span><span class="s1">&#39;s|.zip$|.sha256sum.txt|g&#39;</span><span class="k">)</span><span class="p">;</span><span class="w"> </span><span class="k">done</span>
</pre></div>
</div>
<p>When you have these zip files and sha256sum texts, and you made sure they’re
named correctly, you are ready to create the release description. We will upload
the zip files and sha256sum texts as artifacts of the release.</p>
<p>Note on other binaries like <code class="docutils literal notranslate"><span class="pre">wallet_server_migrations</span></code> and schema changes in
general: When any of our binaries that use a database backend require schema
changes in the database, we can provide either documentation that instruct how
someone can effect the necessary changes, or a <code class="docutils literal notranslate"><span class="pre">wallet_server_migrations</span></code>
utility and clear instructions with regards to how-to-use. When we as a team
decide to provide a <code class="docutils literal notranslate"><span class="pre">wallet_server_migrations</span></code> binary, make sure that binary is
included in the verification server zip files, with instructions on how to use
(i.e., an end-user must be able to update the schema using the provided utility
by following the additionally supplied read-me or other installation
instructions).</p>
<p>Note about obtaining artifacts automatically: Currently the above is manual. We
have an issue on Jira which is about creating an artifact uploader. This utility
is called <code class="docutils literal notranslate"><span class="pre">uploader.mjs</span></code> and can talk to the GitHub releases API and add binary
artifacts and their sha256 sums to a release. The idea is that our pipeline,
when invoked with a CI_COMMIT_TAG environment variable present (i.e., a build
triggered by a <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">--tags</span></code> that results in new version tags being pushed)
can invoke this utility and create or update a release with relevant binary
artifacts.</p>
</section>
<section id="step-9-create-a-release-description">
<h3>Step 9: Create a release description<a class="headerlink" href="#step-9-create-a-release-description" title="Link to this heading"></a></h3>
<p>Here is a template for the release description (this is a large body field which
contains markdown describing a given release on GitHub). Make sure you replace
<code class="docutils literal notranslate"><span class="pre">DAY</span></code>, <code class="docutils literal notranslate"><span class="pre">MONTH</span></code>, <code class="docutils literal notranslate"><span class="pre">YEAR</span></code>, <code class="docutils literal notranslate"><span class="pre">A.B.C</span></code>, <code class="docutils literal notranslate"><span class="pre">X.Y.Z</span></code>, <code class="docutils literal notranslate"><span class="pre">CONDITIONAL_PRE_RELEASE_WARNING</span></code>,
<code class="docutils literal notranslate"><span class="pre">OPTIONAL_RELEASE_STORY</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Release date: DAY of MONTH, YEAR

  * All commits in this release: https://github.com/MinBZK/nl-wallet/compare/vA.B.C...vX.Y.Z
  * Documentation for this release: https://minbzk.github.io/nl-wallet/vX.Y.Z/index.html

We have the following artifacts as a part of this release:

  * `wallet-sbom_vX.Y.Z_generic.zip`: The software-bill-of-materials for this
    release.
  * `wallet-issuance-server_vX.Y.Z_x86_64-linux-glibc.zip`: The wallet issuance
    server for issuers, for glibc-based Linux systems built with Debian
    bookworm.
  * `wallet-issuance-server_vX.Y.Z_x86_64-linux-musl.zip`: The wallet issuance
    server for issuers using statically linked musl.
  * `wallet-verification-server_vX.Y.Z_x86_64-linux-glibc.zip`: The wallet
    verification server for relying parties, for glibc-based Linux systems
    built with Debian bookworm.
  * `wallet-verification-server_vX.Y.Z_x86_64-linux-musl.zip`: The wallet
    verification server for relying parties using statically linked musl.
  * `wallet-web_vX.Y.Z_generic.zip`: The javascript helper library for issuers
    and relying parties, to assist with integrating issuers and relying party
    applications with the wallet platform.

## Notes

**CONDITIONAL_PRE_RELEASE_WARNING**

**OPTIONAL_RELEASE_STORY**

## Changes

See: https://github.com/MinBZK/nl-wallet/blob/vX.Y.Z/wallet_docs/release-notes/vX.Y.Z.md
</pre></div>
</div>
<p>Note on <code class="docutils literal notranslate"><span class="pre">CONDITIONAL_PRE_RELEASE_WARNING</span></code>: When you mark this release as a
pre-release, you need to include the following sentence here: “This is currently
a pre-release; as such it may contain issues we’re not aware of and might not
contain full documentation for any introduced changes. A pre-release is intended
for testing purposes and is not production ready, use at your discretion.”</p>
<p>Note on <code class="docutils literal notranslate"><span class="pre">OPTIONAL_RELEASE_STORY</span></code>: You can include a paragraph or two here which
details what is special about this release, highlight some features or good to
knows, like config-file-format changes, schema changes, etc.</p>
<p>Note about <code class="docutils literal notranslate"><span class="pre">CHANGE</span></code>: Ensure that this file exists with the proper filename.</p>
<p>After you’ve created the above release description, save it somewhere so we can
use it in the next step where we’re going to create the actual GitHub release.</p>
</section>
<section id="step-10-create-github-release-from-tag">
<h3>Step 10: Create GitHub release from tag<a class="headerlink" href="#step-10-create-github-release-from-tag" title="Link to this heading"></a></h3>
<p>When you visit our GitHub page, you should now see all the additional commits
and the version tag you’ve previously set to indicate the release. This version
tag will point to the head of the repository and will not have an associated
release yet.</p>
<ol class="arabic simple">
<li><p>Go to the <em>Releases</em> page and click on the <em>Draft a new release</em> icon. You’ll
be presented with a release creation page;</p></li>
<li><p>Click on <em>Choose a tag</em> and select the version you want to create a release
for (normally the latest one for which you did all the previous steps);</p></li>
<li><p>As title, write: <code class="docutils literal notranslate"><span class="pre">Wallet</span> <span class="pre">X.Y.Z</span></code>, where <code class="docutils literal notranslate"><span class="pre">X.Y.Z</span></code> is the version number you’re
releasing (i.e., should match tag without the <code class="docutils literal notranslate"><span class="pre">v</span></code> prefix);</p></li>
<li><p>Add the previously collected/created zip files and sha256 text files;</p></li>
<li><p>Insert the previously created release description markdown in the body text
of this release;</p></li>
<li><p>Enable the <em>Set as a pre-release</em> flag;</p></li>
<li><p>Click on <em>Publish release</em>;</p></li>
</ol>
<p>Note on setting the pre-release flag: We always set this flag when doing an
initial release. A versioned release like we’ve just created is also going
through a larger scale testing and deployment phase through the operations team.
When they have finished their testing phases and obtained their relevant
approvals, a go-ahead could be given to unset the pre-release flag. This is an
asynchronous process and never blocks the release itself (i.e., don’t wait, just
leave the release marked as pre-release until someone comes around later on to
tell you/us that a specific release can have the pre-release flag removed)</p>
<p>Note on removing a pre-release flag: This usually only happens when the software
is fully vetted by the operations team and deemed ready to run on our production
backend. When the flag is removed (and so becomes a considered-stable release),
don’t forget to remove the <code class="docutils literal notranslate"><span class="pre">CONDITIONAL_PRE_RELEASE_WARNING</span></code> paragraph from the
release description.</p>
</section>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p><a class="reference external" href="https://semver.org/">Semantic Versioning</a></p></li>
<li><p><a class="reference external" href="https://www.atlassian.com/agile/tutorials/versions/">Agile Versions</a></p></li>
</ol>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="merge-requests.html" class="btn btn-neutral float-left" title="Merge Requests" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../release-notes/v0.3.0.html" class="btn btn-neutral float-right" title="v0.3.0" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, NL Wallet.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: main
    <span class="fa fa-caret-down"></span>
  </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Branches</dt>
            <dd><a href="release-howto.html">main</a></dd>
        </dl>
    </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>