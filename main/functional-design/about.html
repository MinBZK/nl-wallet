

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>About the Functional Design &mdash; NL Wallet 0.4.0-dev documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=b823da26" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=bf7cd258"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/js/custom.js?v=48752f09"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Use Cases" href="use-cases.html" />
    <link rel="prev" title="Wallet Creation" href="../architecture/wallet-creation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #383EDE" >

          
          
          <a href="../index.html" class="icon icon-home">
            NL Wallet
              <img src="../_static/wallet.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Get Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../get-started/preparations.html">Preparations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get-started/create-a-verifier.html">Create a Verifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get-started/create-an-issuer.html">Create an Issuer</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Architecture</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../architecture/components-overview.html">Components Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture/disclosure-based-issuance.html">Disclosure-based Issuance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture/disclosure-with-openid4vp.html">Disclosure with OpenID4VP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture/issuance-with-openid4vci.html">Issuance with OpenID4VCI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture/mobile-app-startup.html">Mobile App Startup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture/pin-validation.html">Pin Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture/wallet-creation.html">Wallet Creation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Functional Design</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">About the Functional Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="use-cases.html">Use Cases</a><ul>
<li class="toctree-l2"><a class="reference internal" href="use-cases/UC1.1_IntroduceTheApp.html">Use Case 1.1 Introduce the app</a></li>
<li class="toctree-l2"><a class="reference internal" href="use-cases/UC1.2_OpenTheApp.html">Use Case 1.2 Open the app</a></li>
<li class="toctree-l2"><a class="reference internal" href="use-cases/UC1.3_AppTour.html">Use Case 1.3 App tour</a></li>
<li class="toctree-l2"><a class="reference internal" href="use-cases/UC2.1_SetupRemotePinAndBiometricsUnlock.html">Use Case 2.1 Setup a remote PIN and biometric unlock</a></li>
<li class="toctree-l2"><a class="reference internal" href="use-cases/UC2.2_ChangeBiometricUnlock.html">Use Case 2.2 Change biometric unlock</a></li>
<li class="toctree-l2"><a class="reference internal" href="use-cases/UC2.3_UnlockTheApp.html">Use Case 2.3 Unlock the app</a></li>
<li class="toctree-l2"><a class="reference internal" href="use-cases/UC2.6_ChangeRemotePIN.html">Use Case 2.6 Change remote PIN</a></li>
<li class="toctree-l2"><a class="reference internal" href="use-cases/UC3.1_ObtainPidFromProvider.html">Use Case 3.1 Obtain PID</a></li>
<li class="toctree-l2"><a class="reference internal" href="use-cases/UC4.1_ObtainCardsFromEAAIssuer.html">Use Case 4.1 Obtain one or more cards from a (Q)EAA Issuer</a></li>
<li class="toctree-l2"><a class="reference internal" href="use-cases/UC5.1_ShareDataWithRP.html">Use Case 5.1 Share data with a Relying Party</a></li>
<li class="toctree-l2"><a class="reference internal" href="use-cases/UC5.2_LoginToApplicationOfRP.html">Use Case 5.2 Log in to Relying Party application</a></li>
<li class="toctree-l2"><a class="reference internal" href="use-cases/UC6.1_ShowCompleteUsageAndManagementHistory.html">Use Case 6.1 Show complete history</a></li>
<li class="toctree-l2"><a class="reference internal" href="use-cases/UC6.2_ShowUsageAndManagementHistoryOfCard.html">Use Case 6.2 Show card history</a></li>
<li class="toctree-l2"><a class="reference internal" href="use-cases/UC6.3_ShowHistoryEvent.html">Use Case 6.2 Show card history</a></li>
<li class="toctree-l2"><a class="reference internal" href="use-cases/UC7.1_ShowAllAvailableCards.html">Use Case 7.1 Show all available cards</a></li>
<li class="toctree-l2"><a class="reference internal" href="use-cases/UC7.2_ShowCardDetails.html">Use Case 7.2 Show card details</a></li>
<li class="toctree-l2"><a class="reference internal" href="use-cases/UC9.1_ShowAppMenu.html">Use Case 9.1. Show app menu</a></li>
<li class="toctree-l2"><a class="reference internal" href="use-cases/UC9.2_GetAppInformation.html">Use Case 9.2 Get app information</a></li>
<li class="toctree-l2"><a class="reference internal" href="use-cases/UC9.3_ChangeAppLanguage.html">Use Case 9.3 Change app language</a></li>
<li class="toctree-l2"><a class="reference internal" href="use-cases/UC9.4_WipeAllAppData.html">Use Case 9.4 Wipe all app data</a></li>
<li class="toctree-l2"><a class="reference internal" href="use-cases/UC9.6_GetHelp.html">Use Case 9.6 Get help</a></li>
<li class="toctree-l2"><a class="reference internal" href="use-cases/UC9.7_LogoutOffTheApp.html">Use Case 9.7 Log out of the app</a></li>
<li class="toctree-l2"><a class="reference internal" href="use-cases/UC9.9_ScanQR.html">Use Case 9.9 Scan QR</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="partial-flows.html">Partial Flows</a><ul>
<li class="toctree-l2"><a class="reference internal" href="partial-flows/PF1.4_ApplyAppUpdatePolicy.html">Partial Flow 1.4 Apply update policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="partial-flows/PF2.4_ConfirmProtectedAction.html">Partial Flow 2.4 Confirm a protected action</a></li>
<li class="toctree-l2"><a class="reference internal" href="partial-flows/PF2.7_ResolveUniversalLink.html">Partial Flow 2.7 Resolve a universal link</a></li>
<li class="toctree-l2"><a class="reference internal" href="partial-flows/PF2.8_ValidatePin.html">Partial Flow 2.8 Validate entered PIN</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="logical-test-cases.html">Logical Test Cases</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development/generic-issuance.html">Generic Issuance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/openapi-specifications.html">OpenAPI Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/sd-jwt-vc-profile.html">SD-JWT VC Profile</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/specification-references.html">Specification References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/sphinx-documentation.html">Sphinx Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/updating-rust.html">Updating Rust</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/using-lokalise.html">Using Lokalise</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Community</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../community/onboarding.html">Onboarding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community/create-a-ca.html">Create a CA</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Way of Working</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../way-of-working/definition-of-done.html">Definition of Done</a></li>
<li class="toctree-l1"><a class="reference internal" href="../way-of-working/merge-requests.html">Merge Requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../way-of-working/release-howto.html">Releases Howto</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../release-notes/v0.3.0.html">v0.3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release-notes/v0.4.0.html">v0.4.0 (in development)</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #383EDE" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">NL Wallet</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">About the Functional Design</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/functional-design/about.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="about-the-functional-design">
<h1>About the Functional Design<a class="headerlink" href="#about-the-functional-design" title="Link to this heading"></a></h1>
<p>The functional design (FD) describes the complete functional behaviour of the system, including every interaction with its users and external systems. It contains the following components:</p>
<ul class="simple">
<li><p><strong>Use Cases (UC)</strong> describes a case in which a user uses the system to achieve some goal.</p></li>
<li><p><strong>Partial Flows (PF)</strong> describes a part of the interaction used in two or more use cases.</p></li>
<li><p><strong>Logical Test Cases (LTC)</strong> describe the high level tests of the functionality.</p></li>
</ul>
<section id="use-case-breakdown">
<h2>Use Case breakdown<a class="headerlink" href="#use-case-breakdown" title="Link to this heading"></a></h2>
<p>The user-system interaction is broken down into multiple use cases. Every use case should have a clear start and end and provide some value to the user. This breakdown is done in such a way to minimize overlap between use cases, i.e. to avoid duplicate specification of the same flow. This leads to a web of use cases that are connected to on another, with some smaller use cases that add seemingly little value (e.g. ‘open the app’, ‘open the menu’).</p>
<p>When several use cases repeat the same steps (e.g. Confirm a protected action with PIN) we use a Partial Flow to describe that flow once, and refer to it from the Use Cases that use it.</p>
</section>
<section id="use-cases-uc">
<h2>Use Cases (UC)<a class="headerlink" href="#use-cases-uc" title="Link to this heading"></a></h2>
<p>A use case is specified by a single document (<code class="docutils literal notranslate"><span class="pre">UC[nr]_[name].md</span></code>) which contains the following:</p>
<ul class="simple">
<li><p>An <strong>overview</strong> of its key aspects (including summary, goal and more);</p></li>
<li><p>A <strong>flow description</strong> describing the interaction step by step.</p></li>
</ul>
<section id="use-case-overview">
<h3>Use Case overview<a class="headerlink" href="#use-case-overview" title="Link to this heading"></a></h3>
<p>The UC overview contains a table with the following elements:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Aspect</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Summary</strong></p></td>
<td><p>A brief summary of the interaction between user and system, including at least the primary scenario and possibly some important alternative scenarios.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Goal</strong></p></td>
<td><p>The goal the user wishes to achieve by executing this use case.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Preconditions</strong></p></td>
<td><p>A list of all conditions that must satisfied in order for the UC to complete successfully. (not including triggers).</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Postconditions</strong></p></td>
<td><p>A list of all conditions that will be satisfied after the UC completed successfully, i.e. the important consequences.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Triggered by</strong></p></td>
<td><p>A list of all triggers that start this use case (e.g. selecting a particular menu-item, completing another use case).</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Additional Documentation</strong></p></td>
<td><p>A list of all other (technical) documentation relevant to this use case.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Logical Test Cases</strong></p></td>
<td><p>A list of logical testcases that cover the functionality of this use case.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Possible errors</strong></p></td>
<td><p>A list of all possible expected errors that may be encountered when executing this use case. This does not include unexpected (programming) errors.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="use-case-flow-description">
<h3>Use Case flow description<a class="headerlink" href="#use-case-flow-description" title="Link to this heading"></a></h3>
<p>The UC flow description describes the complete interaction between user and system. It includes every possible user action, every system response, important system decision points and processing actions.</p>
<p>The flow description is in table form and looks something like this:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>#</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Next</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>1</strong></p></td>
<td><p><strong>PRIMARY SCENARIO</strong></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><strong>1.1</strong></p></td>
<td><p><strong>System displays screen ‘Home’</strong><ul><li>Message: hello world.</li><li>Actions: Exit.</li></ul></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>1.1a</p></td>
<td><p>User selects Exit</p></td>
<td><p>1.2</p></td>
</tr>
<tr class="row-odd"><td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
</tr>
</tbody>
</table>
<p>The table includes three types of entries (matching the example above):</p>
<ul class="simple">
<li><p><strong>Scenarios</strong>: the primary scenario (happy flow) and all alternative scenarios and error scenarios;</p></li>
<li><p><strong>Nodes</strong>: all screens, prompts, decision points and important processing steps;</p></li>
<li><p><strong>Edges</strong>: all user actions, decision cases and errors that connect the nodes.</p></li>
</ul>
<section id="scenarios">
<h4>Scenarios<a class="headerlink" href="#scenarios" title="Link to this heading"></a></h4>
<p>All scenarios part of the use case are included. They describe one of the following:</p>
<ol class="arabic simple">
<li><p>“PRIMARY SCENARIO” (always first, #1);</p></li>
<li><p>An alternative scenario phrased as a user activity (e.g. “GET HELP”, “READ PRIVACY STATEMENT”);</p></li>
<li><p>An alternative scenario phrased as a situation starting with “WHEN”.</p></li>
</ol>
<p>Note: error scenarios will be described in a future version.</p>
</section>
<section id="nodes">
<h4>Nodes<a class="headerlink" href="#nodes" title="Link to this heading"></a></h4>
<p>The nodes represent the key steps in the user-system interaction. Possible nodes:</p>
<ol class="arabic simple">
<li><p>“System displays screen ‘{screen name}’”</p></li>
<li><p>“System displays prompt ‘{prompt name}’”</p></li>
<li><p>“System determines {condition on state/input/environment}”</p></li>
<li><p>“System validates {input and constraint}”</p></li>
<li><p>“System executes {important processing task}”</p></li>
<li><p>“Operating system {action}”</p></li>
</ol>
<p>Processing steps are included when they are either time consuming (user must wait), fallible (errors are expected), interactions with external systems or have important consequences.</p>
<p>Subsequent processing steps or decision nodes may be merged into a single node if it contributes to the legibility of the table.</p>
<section id="node-details">
<h5>Node details<a class="headerlink" href="#node-details" title="Link to this heading"></a></h5>
<p>Following the node title is a list of details. Details to include when applicable:</p>
<ol class="arabic simple">
<li><p>“Message: […]” summarizing the key message of a screen or prompt. (not the literal text)</p></li>
<li><p>“Inputs: […]” input elements presented to the user (except for buttons/links).</p></li>
<li><p>“Actions: […]” a list of actions presented to the user. (not the literal text)</p></li>
<li><p>“Contents: […]” a list of other important content elements presented to the user.</p></li>
<li><p>“Duration: X to Y seconds” summarizing the expected time period users may have to wait for the system.</p></li>
</ol>
<p>Purely graphical details are left to the graphical design. Text literals are left to the system’s language configuration.</p>
</section>
</section>
<section id="edges">
<h4>Edges<a class="headerlink" href="#edges" title="Link to this heading"></a></h4>
<p>The edges describe either actions by the user, events or outcomes of system actions. They may include:</p>
<ol class="arabic simple">
<li><p>“User [verb] […]”</p></li>
<li><p>“Case: [predicate]”</p></li>
<li><p>“Error: [error situation]”</p></li>
<li><p>“Event: [event description]”</p></li>
</ol>
<p>An edge may:</p>
<ol class="arabic simple">
<li><p>have a side-effect (in the ‘description’ column, on a new line starting with “→”, e.g. “→ Flashlight is enabled”);</p></li>
<li><p>point to another node (by referencing its number the ‘next’ column);</p></li>
<li><p>point to another use case (by referencing it in ‘next’: “Go to: UC…”)</p></li>
<li><p>point to a separate error flow description (by referencing it in ‘next’; “Error Flow: [error name]”)</p></li>
<li><p>specify “Back” to denote that the user returns to the previous screen they visisted.</p></li>
</ol>
</section>
</section>
</section>
<section id="partial-flows-pf">
<h2>Partial Flows (PF)<a class="headerlink" href="#partial-flows-pf" title="Link to this heading"></a></h2>
<p>In order to avoid duplication in the FD we sometimes use partial flows (PFs). Partial flows are a part of a use case flow that occurs in two or more use cases and is big enough to justify reuse. A PF is similar to a use case with the following key differences:</p>
<ul class="simple">
<li><p>The PF Overview is like the UC Overview, but it does not include “Triggered by”</p></li>
<li><p>The PF Overview includes “Used in” which references all UCs that use the PF.</p></li>
<li><p>The PF Overview includes “Parameters” which describe the parameters that allow the UCs to customize the PF.</p></li>
<li><p>The PF Flow description is like the UC Flow description.</p></li>
<li><p>When the PF returns flow to the UC, the ‘next’ contains “Return: [return value]”</p></li>
</ul>
</section>
<section id="logical-test-cases-ltc">
<h2>Logical Test Cases (LTC)<a class="headerlink" href="#logical-test-cases-ltc" title="Link to this heading"></a></h2>
<p>These define high-level, black-box tests that verify the functional behavior described by the Use Cases (UC) and Partial Flows (PF).
Each UC and RF references the relevant LTC ID and title in the LTC field to ensure traceability and coverage.</p>
<p>Format: Gherkin-style Given / When / Then (/ And) steps.
Scope: Functional behavior as observable by the user or external systems. Non-functional tests (performance, accessibility, etc.) are out of scope here.</p>
</section>
<section id="for-authors">
<h2>For authors<a class="headerlink" href="#for-authors" title="Link to this heading"></a></h2>
<p>When writing / editing the FD, please take care of the following:</p>
<ol class="arabic simple">
<li><p>Keep names and descriptions as short as possible, but not shorter</p></li>
<li><p>Consistent formatting</p></li>
<li><p>Consistent grammar</p></li>
<li><p>When referencing other use cases, always use its full name. Also link to the file.</p></li>
</ol>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../architecture/wallet-creation.html" class="btn btn-neutral float-left" title="Wallet Creation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="use-cases.html" class="btn btn-neutral float-right" title="Use Cases" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, NL Wallet.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: main
    <span class="fa fa-caret-down"></span>
  </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Branches</dt>
            <dd><a href="about.html">main</a></dd>
        </dl>
    </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>