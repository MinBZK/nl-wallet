

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Components Overview &mdash; NL Wallet 0.4.0-dev documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=ba2e7a06" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=bf7cd258"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script type="module" src="https://cdn.jsdelivr.net/npm/mermaid@11.2.0/dist/mermaid.esm.min.mjs"></script>
      <script type="module" src="https://cdn.jsdelivr.net/npm/@mermaid-js/layout-elk@0.1.4/dist/mermaid-layout-elk.esm.min.mjs"></script>
      <script type="module">import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@11.2.0/dist/mermaid.esm.min.mjs";import elkLayouts from "https://cdn.jsdelivr.net/npm/@mermaid-js/layout-elk@0.1.4/dist/mermaid-layout-elk.esm.min.mjs";mermaid.registerLayoutLoaders(elkLayouts);mermaid.initialize({startOnLoad:false});</script>
      <script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script>
      <script type="module">
import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@11.2.0/dist/mermaid.esm.min.mjs";
window.addEventListener("load", () => mermaid.run());
</script>
      <script src="../_static/js/custom.js?v=48752f09"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Disclosure-based Issuance" href="disclosure-based-issuance.html" />
    <link rel="prev" title="Create an Issuer" href="../get-started/issuer.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #383EDE" >

          
          
          <a href="../index.html" class="icon icon-home">
            NL Wallet
              <img src="../_static/wallet.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Get Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../get-started/onboarding.html">Onboarding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get-started/verifier.html">Create a Verifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get-started/issuer.html">Create an Issuer</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Architecture</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Components Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="disclosure-based-issuance.html">Disclosure-based Issuance</a></li>
<li class="toctree-l1"><a class="reference internal" href="disclosure-with-openid4vp.html">Disclosure with OpenID4VP</a></li>
<li class="toctree-l1"><a class="reference internal" href="issuance-with-openid4vci.html">Issuance with OpenID4VCI</a></li>
<li class="toctree-l1"><a class="reference internal" href="mobile-app-startup.html">Mobile App Startup</a></li>
<li class="toctree-l1"><a class="reference internal" href="pin-validation.html">Pin Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="wallet-creation.html">Wallet Creation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development/generic-issuance.html">Generic Issuance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/openapi-specifications.html">OpenAPI Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/sd-jwt-vc-profile.html">SD-JWT VC Profile</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/specification-references.html">Specification References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/sphinx-documentation.html">Sphinx Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/updating-rust.html">Updating Rust</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/using-lokalise.html">Using Lokalise</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Way of Working</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../way-of-working/definition-of-done.html">Definition of done</a></li>
<li class="toctree-l1"><a class="reference internal" href="../way-of-working/merge-requests.html">Merge Requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../way-of-working/release-howto.html">Releases Howto</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../release-notes/v0.3.0.html">v0.3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release-notes/v0.4.0.html">v0.4.0 (in development)</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #383EDE" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">NL Wallet</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Components Overview</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/architecture/components-overview.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="components-overview">
<h1>Components Overview<a class="headerlink" href="#components-overview" title="Link to this heading">ÔÉÅ</a></h1>
<p>The diagram below shows a global overview of how the components interact with
each other. It contains some details about the application layer protocols and
technologies used, but leaves out exact (data) flow and detailed steps. Arrow
directions indicate which party initiated the interaction and not the flow of
data.</p>
<pre  class="mermaid">
        graph
    brp[&quot;`
        BRP
        _[Software system]_
        Contains the personal data of people
    `&quot;]
    digid[&quot;`
        DigiD
        _[Software system]_
    `&quot;]

    relying_party[&quot;`
        Relying Party
    `&quot;]

    wallet_app(&quot;`
        Wallet App
        _[Container: Flutter/Rust]_
    `&quot;)

    wallet_app -- &quot;`
        Provides key instructions
        _[JSON/HTTPS]_
    `&quot;--&gt; wallet_provider

    subgraph Wallet Provider
        wallet_provider[&quot;`
            Wallet Provider
            _[Container: Rust (wallet_provider)]_
        `&quot;]
        wallet_provider_migrations[&quot;`
            Wallet Provider Migrations
            _[Container: Rust]_
        `&quot;]
        postgres[(&quot;`
            Database
            _[Container: Postgres]_
        `&quot;)]
        hsm[&quot;`
            HSM
            _[Container: SoftHSMv2]_
        `&quot;]

        wallet_provider -- &quot;`
            Encrypts/decrypts/signs data
            [PKCS#11]
        `&quot; --&gt; hsm
        wallet_provider -- &quot;`
            Reads from/writes to
            _[SQL/TCP]_
        `&quot; --&gt; postgres
        wallet_provider_migrations -- &quot;`
            Manages schema
            _[SQL/TCP]_
        `&quot; --&gt; postgres
    end

    subgraph PID[PID Issuer]
        digid_connector[&quot;`
            DigiD connector
            _[Container: Python]_
        `&quot;]
        pid_issuer[&quot;`
            PID Issuer
            _[Container: Rust (pid_issuer)]_
        `&quot;]
        cache[(&quot;`
            Cache
            _[Container: Postgres]_
        `&quot;)]
        issuer_migrations[&quot;`
            Issuer Migrations
            _[Container: Rust]_
        `&quot;]

        pid_issuer -- &quot;`
            Gets BSN
            _[JSON/HTTPS]_
        `&quot; --&gt; digid_connector
        issuer_migrations -- &quot;`
            Manages schema
            _[SQL/TCP]_
        `&quot; --&gt; cache
        pid_issuer -- &quot;`
            Stores session
            _[SQL/TCP]_
        `&quot; --&gt; cache
    end

    subgraph RP[Relying Party]
        relying_party_server[&quot;`
            Relying Party Server
            _[Container: Rust (verification_server)]_
        `&quot;]
        relying_party_migrations[&quot;`
            Relying Party Migrations
            _[Container: Rust]_
        `&quot;]
        cache_rp[(&quot;`
            Cache
            _[Container: Postgres]_
        `&quot;)]
        relying_party_server -- &quot;`
            Stores session
            _[SQL/TCP]_
        `&quot;--&gt; cache_rp
        relying_party_migrations -- &quot;`
            Manages schema
            _[SQL/TCP]_
        `&quot; --&gt; cache_rp
    end

    wallet_app -- &quot;`
        Authenticates user
        _[OIDC/HTTPS]_
    `&quot; --&gt; digid_connector
    wallet_app -- &quot;`
        Gets PID issued
        _[OpenID4VCI/HTTPS]_
    `&quot; --&gt; pid_issuer
    wallet_app -- &quot;`
        Gets session
        _[OpenID4VCI/HTTPS]_
    `&quot; --&gt; pid_issuer

    digid_connector -- &quot;`
        Identifies user
        _[SAML/HTTPS]_
    `&quot; --&gt; digid
    pid_issuer -- &quot;`
        Looks up PID attributes
        _[JSON/HTTPS]_
    `&quot; --&gt; brp

    wallet_app -- &quot;`
        Discloses attributes
        _[MDOC/HTTPS]_
    `&quot; --&gt; relying_party_server
    wallet_app -- &quot;`
        Gets session
        _[MDOC/HTTPS]_
    `&quot; --&gt; relying_party_server

    relying_party -- &quot;`
        Gets disclosed attributes
        _[JSON/HTTPS_]
    `&quot; --&gt; relying_party_server
    relying_party -- &quot;`
        Starts session
        _[JSON/HTTPS_]
    `&quot; --&gt; relying_party_server
    </pre></section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../get-started/issuer.html" class="btn btn-neutral float-left" title="Create an Issuer" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="disclosure-based-issuance.html" class="btn btn-neutral float-right" title="Disclosure-based Issuance" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, NL Wallet.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: main
    <span class="fa fa-caret-down"></span>
  </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Branches</dt>
            <dd><a href="components-overview.html">main</a></dd>
        </dl>
    </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>