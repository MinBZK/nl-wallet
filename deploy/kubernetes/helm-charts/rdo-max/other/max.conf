[app]
environment = {{ .Values.max.config.app.environment }}
userinfo_service = {{ .Values.max.config.app.userInfoService }}
external_base_url = {{ .Values.max.config.app.externalBaseUrl }}
session_url = {{ .Values.max.config.app.sessionUrl }}
mocked_uzi_data_file_path = {{ .Values.max.config.app.mockedUziDataFilePath }}
loglevel = {{ .Values.max.config.app.logLevel }}
login_methods_file_path = {{ .Values.max.config.app.loginMethodsFilePath }}
json_schema_path = {{ .Values.max.config.app.jsonSchemaPath }}
redirect_type = {{ .Values.max.config.app.redirectType }}
user_authentication_sym_key = {{ .Values.max.config.app.userAuthenticationSymKey }}
external_http_requests_timeout_seconds = {{ .Values.max.config.app.externalHttpRequestsTimeoutSeconds }}
#version_file_path = {{ .Values.max.config.app.versionFilePath }}
#language_path = {{ .Values.max.config.app.languagePath }}
#include_log_message_in_error_response = {{ .Values.max.config.app.includeLogMessageInErrorResponse | toString | title }}

[jwe]
services = rsa
jwe_sign_crt_path = {{ .Values.max.config.jwe.signingCertificatePath }}
jwe_sign_priv_key_path = {{ .Values.max.config.jwe.signingPrivateKeyPath }}

[jwt]
session_jwt_issuer = {{ .Values.max.config.jwt.sessionIssuer }}
session_jwt_audience = {{ .Values.max.config.jwt.sessionAudience }}
session_jwt_sign_crt_path = {{ .Values.max.config.jwt.sessionSigningCertificatePath }}
session_jwt_sign_priv_key_path = {{ .Values.max.config.jwt.sessionSigningPrivateKeyPath }}

[uvicorn]
host = {{ .Values.max.config.asgi.host }}
port = {{ .Values.max.config.asgi.port }}
reload = {{ .Values.max.config.asgi.reload | toString | title }}
reload_includes = {{ .Values.max.config.asgi.reloadIncludes }}
workers = {{ .Values.max.config.asgi.workers }}
use_ssl = {{ .Values.max.config.asgi.useSsl | toString | title }}
{{- if eq .Values.max.config.asgi.useSsl true }}
base_dir = {{ .Values.max.config.asgi.sslBaseDirectory }}
cert_file = {{ .Values.max.config.asgi.sslServerCertificateFile }}
key_file = {{ .Values.max.config.asgi.sslServerPrivateKeyFile }}
{{- end }}

[oidc]
certificates_directory = {{ .Values.max.config.oidc.certificatesDirectory }}
rsa_private_key_crt = {{ .Values.max.config.oidc.rsaCertificatePath }}
rsa_private_key = {{ .Values.max.config.oidc.rsaPrivateKeyPath }}
issuer = {{ .Values.max.config.oidc.issuerUrl }}
authorize_endpoint = {{ .Values.max.config.oidc.authorizeEndPoint }}
jwks_endpoint = {{ .Values.max.config.oidc.jwksEndpoint }}
accesstoken_endpoint = {{ .Values.max.config.oidc.accessTokenEndPoint }}
userinfo_endpoint = {{ .Values.max.config.oidc.userInfoEndPoint }}
scopes_supported = {{ .Values.max.config.oidc.scopesSupported }}
clients_file = {{ .Values.max.config.oidc.clientsFile }}
subject_id_hash_salt = {{ .Values.max.config.oidc.subjectIdHashSalt }}
jwt_expiration_duration = {{ .Values.max.config.oidc.jwtExpirationDuration }}
jwt_nbf_lag = {{ .Values.max.config.oidc.jwtNbfLag }}
allow_wildcard_redirect_uri = {{ .Values.max.config.oidc.allowWildcardRedirectUri | toString | title }}

[oidc_client]
oidc_login_redirect_url = {{ .Values.max.config.oidc.client.loginRedirectUrl }}

[saml]
identity_providers_base_path = {{ .Values.max.config.saml.identityProvidersBasePath }}
xml_templates_path = {{ .Values.max.config.saml.xmlTemplatesPath }}
html_templates_path = {{ .Values.max.config.saml.htmlTemplatesPath }}
base_issuer = {{ .Values.max.config.saml.baseIssuer }}

[redis]
host = {{ .Values.max.config.redis.host }}
port = {{ .Values.max.config.redis.port }}
enable_debugger = {{ .Values.max.config.redis.enableDebugger | toString | title }}
ssl = {{ .Values.max.config.redis.useSsl | toString | title }}
{{- if eq .Values.max.config.redis.useSsl true }}
cert = {{ .Values.max.config.redis.sslClientCertificateFile }}
key = {{ .Values.max.config.redis.sslClientPrivateKeyFile }}
cafile = {{ .Values.max.config.redis.sslCaCertificateFile }}
{{- end }}
object_ttl = {{ .Values.max.config.redis.objectTtl }}
default_cache_namespace = {{ .Values.max.config.redis.defaultCacheNameSpace }}
token_namespace = {{ .Values.max.config.redis.tokenNameSpace }}
refresh_token_namespace = {{ .Values.max.config.redis.refreshTokenNameSpace }}
subject_identifier_namespace = {{ .Values.max.config.redis.subjectIdentifierNameSpace }}
code_namespace = {{ .Values.max.config.redis.codeNameSpace }}

[ratelimiter]
identity_provider_outage_key = identity_provider_outage
primary_identity_provider_key = primary_identity_provider
overflow_identity_provider_key = overflow_identity_provider
primary_identity_provider_user_limit_key = primary_identity_provider_user_limit
overflow_identity_provider_user_limit_key = overflow_identity_provider_user_limit
ipaddress_max_count = 1000
ipaddress_max_count_expire_seconds = 10

[templates]
jinja_path = jinja2
vite_manifest_path = static/assets/manifest.json
